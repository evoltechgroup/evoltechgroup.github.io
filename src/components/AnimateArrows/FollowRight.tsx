"use client";

import { useEffect, useRef } from "react";

const FollowRight = () => {
  const pathRef = useRef<SVGPathElement>(null);

  useEffect(() => {
    if (!pathRef.current) return;

    const length = pathRef.current.getTotalLength();
    pathRef.current.style.strokeDasharray = `${length}`;
    pathRef.current.style.strokeDashoffset = `${length}`;

    // Trigger animation by setting CSS animation property
    pathRef.current.style.animation = "drawPath 2s forwards ease-in-out";
  }, []);

  return (
    <>
      <style>
        {`
          @keyframes drawPath {
            to {
              stroke-dashoffset: 0;
            }
          }
        `}
      </style>
      <svg
        width="143"
        height="54"
        viewBox="0 0 143 54"
        fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <path
          ref={pathRef}
          d="M2.95102 2.42516C2.62996 1.66148 1.7506 1.30266 0.986918 1.62372C0.223234 1.94478 -0.135583 2.82414 0.185476 3.58782L2.95102 2.42516ZM81.4999 10.1686L80.2409 10.984L81.4999 10.1686ZM50.26 25.4231L51.76 25.4231L50.26 25.4231ZM136.392 9.49314C136.019 8.75341 135.117 8.45607 134.377 8.82902L122.323 14.9065C121.583 15.2795 121.286 16.1815 121.659 16.9212C122.032 17.6609 122.934 17.9583 123.673 17.5853L134.389 12.1831L139.791 22.8983C140.164 23.6381 141.066 23.9354 141.805 23.5624C142.545 23.1895 142.843 22.2875 142.47 21.5478L136.392 9.49314ZM1.56825 3.00649L0.185476 3.58782C13.1585 34.4458 39.8703 46.0309 60.3372 44.9572C70.5256 44.4227 79.4033 40.7276 84.1242 34.4148C88.9529 27.9578 89.1308 19.1922 82.7589 9.35325L81.4999 10.1686L80.2409 10.984C86.1191 20.0607 85.6095 27.4193 81.7217 32.6182C77.726 37.9613 69.858 41.4536 60.18 41.9613C40.914 42.972 15.4099 32.0603 2.95102 2.42516L1.56825 3.00649ZM81.4999 10.1686L82.7589 9.35325C80.961 6.57698 77.964 4.10675 74.5332 2.46542C71.0966 0.82133 67.0898 -0.0552934 63.2279 0.52494C59.3188 1.11226 55.6383 3.18545 52.9737 7.27265C50.3376 11.3163 48.76 17.2273 48.76 25.4231L50.26 25.4231L51.76 25.4231C51.76 17.5701 53.2777 12.2997 55.4869 8.91101C57.6676 5.56592 60.5825 3.95608 63.6736 3.49164C66.812 3.02011 70.2103 3.72299 73.2385 5.17167C76.2724 6.62311 78.7999 8.75893 80.2409 10.984L81.4999 10.1686ZM50.26 25.4231L48.76 25.4231C48.7601 33.6235 53.1197 40.6959 59.7933 45.6644C66.4598 50.6278 75.5012 53.5566 85.1385 53.5451C104.517 53.522 126.261 41.6288 136.477 10.638L135.053 10.1684L133.628 9.69881C123.791 39.5393 103.139 50.5236 85.1349 50.5451C76.0806 50.5559 67.6837 47.7988 61.5848 43.2581C55.4929 38.7226 51.7601 32.4728 51.76 25.4231L50.26 25.4231Z"
          stroke="currentColor"
          strokeWidth="2"
          fill="none"
        />
      </svg>
    </>
  );
};

export default FollowRight;
